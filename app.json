{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "tech.sonoff",
  "version": "0.0.1",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "name": {
    "en": "SONOFF Zigbee"
  },
  "description": {
    "en": "SONOFF takes Care of Your 'Home'. Make your lives easier and better with affordable and innovative smart products."
  },
  "tag": [
    "SONOFF",
    "Zigbee",
    "Sensor",
    "Temperature",
    "Humidity",
    "Door",
    "Window",
    "PIR"
  ],
  "category": [
    "appliances",
    "security"
  ],
  "brandColor": "#3465A8",
  "permissions": [
    "homey:wireless:zigbee"
  ],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Johan Bendz",
    "email": "johan_bendz@hotmail.com"
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "JohanBendz"
      }
    }
  },
  "drivers": [
    {
      "name": {
        "en": "Basic ZBR3"
      },
      "class": "socket",
      "icon": "/drivers/BASICZBR3/assets/icon.svg",
      "images": {
        "large": "/drivers/BASICZBR3/assets/images/large.png",
        "small": "/drivers/BASICZBR3/assets/images/small.png"
      },
      "capabilities": [
        "onoff"
      ],
      "energy": {
        "approximation": {
          "usageOn": 2300,
          "usageOff": 1
        }
      },
      "zigbee": {
        "manufacturerName": "SONOFF",
        "productId": [
          "BASICZBR3"
        ],
        "endpoints": {
          "1": {
            "clusters": [
              0,
              6
            ],
            "bindings": [
              6
            ]
          }
        },
        "learnmode": {
          "image": "/drivers/BASICZBR3/assets/icon.svg",
          "instruction": {
            "en": "Push a pin down the small hole on the side of the device for aprox 8 seconds until the LED blinks rapidly."
          }
        }
      },
      "id": "BASICZBR3",
      "settings": []
    },
    {
      "name": {
        "en": "Door/Window Sensor (SNZB-04)"
      },
      "class": "sensor",
      "icon": "/drivers/DS01/assets/icon.svg",
      "images": {
        "large": "/drivers/DS01/assets/images/large.png",
        "small": "/drivers/DS01/assets/images/small.png"
      },
      "capabilities": [
        "alarm_contact",
        "alarm_battery"
      ],
      "energy": {
        "batteries": [
          "CR2032"
        ]
      },
      "zigbee": {
        "manufacturerName": "eWeLink",
        "productId": [
          "DS01"
        ],
        "endpoints": {
          "1": {
            "clusters": [
              0,
              3,
              1280,
              1
            ],
            "bindings": [
              1280
            ]
          }
        },
        "learnmode": {
          "image": "/drivers/DS01/assets/icon.svg",
          "instruction": {
            "en": "Push a pin down the small hole on the side of the device for aprox 8 seconds until the LED blinks rapidly."
          }
        }
      },
      "id": "DS01",
      "settings": []
    },
    {
      "name": {
        "en": "Wireless Switch (SNZB-01)"
      },
      "class": "button",
      "icon": "/drivers/WB01/assets/icon.svg",
      "images": {
        "large": "/drivers/WB01/assets/images/large.png",
        "small": "/drivers/WB01/assets/images/small.png"
      },
      "capabilities": [
        "alarm_battery"
      ],
      "energy": {
        "batteries": [
          "CR2450"
        ]
      },
      "zigbee": {
        "manufacturerName": "eWeLink",
        "productId": [
          "WB01"
        ],
        "endpoints": {
          "1": {
            "clusters": [
              0,
              1,
              6
            ],
            "bindings": [
              6
            ]
          }
        },
        "learnmode": {
          "image": "/drivers/WB01/assets/icon.svg",
          "instruction": {
            "en": "Open the back of the device and push a pin down the small hole marked RST for aprox 8 seconds until the LED blinks rapidly."
          }
        }
      },
      "id": "WB01",
      "settings": [
        {
          "id": "batteryThreshold",
          "type": "number",
          "label": {
            "en": "Battery Low Alarm Voltage Threshold (percent)"
          },
          "hint": {
            "en": "This setting determines the threshold before a battery alarm is given."
          },
          "value": 10,
          "attr": {
            "step": 1,
            "min": 10,
            "max": 90
          }
        }
      ]
    },
    {
      "name": {
        "en": "Motion Sensor (SNZB-03)"
      },
      "class": "sensor",
      "icon": "/drivers/ms01/assets/icon.svg",
      "images": {
        "large": "/drivers/ms01/assets/images/large.png",
        "small": "/drivers/ms01/assets/images/small.png"
      },
      "capabilities": [
        "alarm_motion",
        "alarm_battery"
      ],
      "energy": {
        "batteries": [
          "CR2450"
        ]
      },
      "zigbee": {
        "manufacturerName": "eWeLink",
        "productId": [
          "ms01"
        ],
        "endpoints": {
          "1": {
            "clusters": [
              0,
              1,
              1280
            ],
            "bindings": [
              1280
            ]
          }
        },
        "learnmode": {
          "image": "/drivers/ms01/assets/icon.svg",
          "instruction": {
            "en": "Push a pin down the small hole on the side of the device for aprox 8 seconds until the LED blinks rapidly."
          }
        }
      },
      "id": "ms01",
      "settings": []
    }
  ],
  "flow": {
    "triggers": [
      {
        "id": "WB01_one_click",
        "title": {
          "en": "One click"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=WB01"
          }
        ]
      },
      {
        "id": "WB01_two_clicks",
        "title": {
          "en": "Two clicks"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=WB01"
          }
        ]
      },
      {
        "id": "WB01_hold",
        "title": {
          "en": "Long press"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=WB01"
          }
        ]
      }
    ]
  }
}